import{M as e,R as t,C as a}from"./@arco-design-BJ-ThMXq.js";import{s}from"./index-B0Sb-4z8.js";import{_ as l}from"./NftTitle.vue_vue_type_script_setup_true_lang-fAvmczgN.js";import{M as r}from"./Marketplace-8QyBFxvP.js";import{a as n}from"./axios-FT5ipKkF.js";import{e as i,r as o,o as m,m as u,s as d,k as c,j as p,l as x,z as f,y as g,a1 as j,n as y,F as w,P as _,h as v}from"./@vue-DVdXjGaL.js";import{B as b,C as h,f as N}from"./ethers-Bs4S-GtA.js";import"./resize-observer-polyfill-zrGQmaJP.js";import"./vite-plugin-node-polyfills-Dh68s0dh.js";import"./compute-scroll-into-view-DCNUDwgY.js";import"./b-tween-Bhjdt4nK.js";import"./dayjs-Cc8YkNtQ.js";import"./number-precision-BB5CzNB6.js";import"./scroll-into-view-if-needed-CcisqVa9.js";import"./b-validate-BXhoJxPC.js";import"./vue-router-3lz8Ac5B.js";import"./pinia-c4Tz4aig.js";import"./pinia-plugin-persistedstate-bJzzEmMD.js";import"./@adraffy-Crx4Gj2H.js";const k={class:"flex flex-col text-white w-full pt-11"},T={key:1,class:"mt-12"},F=i({name:"Profile",__name:"Profile",setup(i){const F=o("0x"),M=o(0),P=o([]);return m(async()=>{await(async()=>{if(!window.ethereum)return F.value="0x",M.value=0,P.value=[],void e.warning("Please install MetaMask!");let t=0;const a=[];try{const l=new b(window.ethereum),i=await l.getSigner();F.value=await i.getAddress();const o=new h(r.address,r.abi,await i),m=await o.getMyNFTs(),u=await Promise.all(m.map(async e=>{const t=await o.tokenURI(Number(e[0])),s=await n.get(t),l={price:Number(N(e[3],"ether")),tokenId:Number(e[0]),seller:e[2],owner:e[1],image:s.data.image,name:s.data.name,description:s.data.description};return a.push(Number(N(e[3],"ether"))),l}));t=s(a),P.value=u,M.value=t,e.success("You successfully My List NFT!")}catch(l){F.value="0x",M.value=0,P.value=[],e.error("加载NFT列表失败："+l.message)}})()}),(e,s)=>{const r=t,n=a;return p(),u("div",k,[d(r,{align:"center",justify:"center",class:"md:text-2xl text-center text-lg font-bold"},{default:c(()=>[...s[0]||(s[0]=[x("h2",null,f("Wallet Address"),-1)])]),_:1}),d(r,{class:"mt-2 md:text-2xl text-center text-lg font-[500]"},{default:c(()=>[d(n,{span:24},{default:c(()=>[g(f(j(F)),1)]),_:1})]),_:1}),d(r,{align:"center",justify:"center",class:"mt-[4rem] md:text-2xl text-center text-lg font-bold"},{default:c(()=>[d(n,{span:8,xs:8,sm:8,md:6,lg:6,xl:4,xxl:2},{default:c(()=>[...s[1]||(s[1]=[g(f("No. of NFTs"),-1)])]),_:1}),d(n,{span:8,xs:8,sm:8,md:6,lg:6,xl:4,xxl:2},{default:c(()=>[...s[2]||(s[2]=[g(f("Total Value"),-1)])]),_:1})]),_:1}),d(r,{align:"center",justify:"center",class:"mt-2 text-center md:text-2xl text-lg font-[500]"},{default:c(()=>[d(n,{span:8,xs:8,sm:8,md:6,lg:6,xl:4,xxl:2},{default:c(()=>[g(f(j(P).length),1)]),_:1}),d(n,{span:8,xs:8,sm:8,md:6,lg:6,xl:4,xxl:2},{default:c(()=>[g(f(0==j(M)?"0.00ETH":j(M)+"ETH"),1)]),_:1})]),_:1}),d(r,{align:"center",justify:"center",class:"mt-[2.6rem] text-center md:text-2xl text-lg font-bold"},{default:c(()=>[d(n,{span:24},{default:c(()=>[...s[3]||(s[3]=[g(f("Your NFTs"),-1)])]),_:1})]),_:1}),d(r,{align:"center",justify:"center",wrap:"",class:"text-center md:text-2xl text-lg font-[500]"},{default:c(()=>[j(P).length?(p(!0),u(w,{key:0},_(j(P),e=>(p(),v(l,{key:e.tokenId,data:e},null,8,["data"]))),128)):y("",!0),0==j(P).length?(p(),u("p",T,f("Oops, No NFT data to display (Are you logged in?)"))):y("",!0)]),_:1})])}}});export{F as default};
